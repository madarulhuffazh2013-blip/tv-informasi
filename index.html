<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>MA Darul Huffazh TV</title>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Amiri&display=swap" rel="stylesheet">

<style>
body{
 margin:0;
 background:url("bg.jpg") no-repeat center center fixed;
 background-size:cover;
 color:white;
 font-family:Arial;
}

body::before{
 content:"";
 position:fixed;
 inset:0;
 background:rgba(0,0,0,0.5);
 z-index:-1;
}

.header{
 display:flex;
 justify-content:space-between;
 align-items:center;
 padding:20px;
}

.clock{
 font-family:'Orbitron',monospace;
 font-size:90px;
}

.date{
 font-size:24px;
}

.announcement{
 text-align:center;
 font-size:32px;
 margin-top:40px;
 padding:20px;
 background:rgba(0,0,0,0.4);
 border-radius:15px;
}

.arab{
 font-family:'Amiri',serif;
 font-size:52px;
}

.sholat-bar{
 position:fixed;
 bottom:50px;
 width:100%;
 display:flex;
 justify-content:space-around;
}

.sholat-item{
 background:black;
 padding:12px 18px;
 border-radius:12px;
 text-align:center;
 min-width:110px;
}

.nama{
 border-bottom:2px solid gold;
 font-size:22px;
}

.jam-sholat{
 font-size:26px;
}

.running{
 position:fixed;
 bottom:0;
 width:100%;
 background:black;
 color:gold;
 padding:8px;
 font-size:22px;
}

#enableAudio{
 position:fixed;
 inset:0;
 margin:auto;
 width:350px;
 height:120px;
 background:green;
 color:white;
 font-size:26px;
 border:none;
 border-radius:15px;
 z-index:999;
}
</style>
</head>

<body>

<button id="enableAudio" onclick="aktifkanAudio()">TEKAN OK UNTUK AKTIFKAN SUARA</button>

<audio id="pengumuman1145">
 <source src="pengumuman1145.mp3" type="audio/mpeg">
</audio>

<div class="header">
 <div class="date" id="date"></div>
 <div class="clock" id="clock"></div>
</div>

<div class="announcement" id="announce"></div>

<div class="sholat-bar">
 <div class="sholat-item"><div class="nama">Subuh</div><div class="jam-sholat" id="subuh"></div></div>
 <div class="sholat-item"><div class="nama">Dzuhur</div><div class="jam-sholat" id="dzuhur"></div></div>
 <div class="sholat-item"><div class="nama">Ashar</div><div class="jam-sholat" id="ashar"></div></div>
 <div class="sholat-item"><div class="nama">Maghrib</div><div class="jam-sholat" id="maghrib"></div></div>
 <div class="sholat-item"><div class="nama">Isya</div><div class="jam-sholat" id="isya"></div></div>
</div>

<div class="running">
<marquee>Menuntut ilmu adalah ibadah | MA Darul Huffazh</marquee>
</div>

<script>
let audioUnlocked=false;
function aktifkanAudio(){
 let a=document.getElementById("pengumuman1145");
 a.play().then(()=>{
  a.pause();
  audioUnlocked=true;
  document.getElementById("enableAudio").style.display="none";
 });
}

function updateClock(){
 let n=new Date();
 let h=String(n.getHours()).padStart(2,'0');
 let m=String(n.getMinutes()).padStart(2,'0');
 clock.innerHTML=h+":"+m;

 let hari=["Ahad","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"];
 let bulan=["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"];
 date.innerHTML=hari[n.getDay()]+", "+n.getDate()+" "+bulan[n.getMonth()]+" "+n.getFullYear();
}
setInterval(updateClock,1000);
updateClock();

let jadwal={
 subuh:"04:42",
 dzuhur:"12:13",
 ashar:"15:33",
 maghrib:"18:23",
 isya:"19:36"
};

subuh.innerHTML=jadwal.subuh;
dzuhur.innerHTML=jadwal.dzuhur;
ashar.innerHTML=jadwal.ashar;
maghrib.innerHTML=jadwal.maghrib;
isya.innerHTML=jadwal.isya;

let slides=[
 {arab:"خَيْرُكُمْ مَنْ تَعَلَّمَ الْقُرْآنَ وَعَلَّمَهُ",
  arti:"Sebaik-baik kalian adalah yang belajar Al-Qur'an dan mengajarkannya."},
 "Upacara hari Senin pukul 07.00 WIB",
 "Jaga kebersihan kelas dan lingkungan"
];

let i=0;
function gantiSlide(){
 let s=slides[i];
 if(typeof s==="string"){
  announce.innerHTML=s;
 }else{
  announce.innerHTML="<div class='arab'>"+s.arab+"</div><div>"+s.arti+"</div>";
 }
 i++; if(i>=slides.length)i=0;
}
gantiSlide();
setInterval(gantiSlide,600000);

let sudah=false;
function cekAudio(){
 let n=new Date();
 let j=String(n.getHours()).padStart(2,'0');
 let m=String(n.getMinutes()).padStart(2,'0');
 if(j==="11" && m==="45" && !sudah && audioUnlocked){
  document.getElementById("pengumuman1145").play();
  sudah=true;
 }
 if(j==="11" && m==="46") sudah=false;
}
setInterval(cekAudio,1000);

// AUTO RELOAD
setInterval(function(){
 location.reload();
},300000);

// CEGAH SCREEN SAVER
setInterval(function(){
 document.body.style.opacity =
 document.body.style.opacity=="1"?"0.99":"1";
},60000);
</script>

</body>
</html>
